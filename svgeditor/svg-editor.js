/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function t(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var h=t.length-1;h>=0;h--)(s=t[h])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o}
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const e=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,i=Symbol(),n=new Map;class s{constructor(t,e){if(this._$cssResult$=!0,e!==i)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){let t=n.get(this.cssText);return e&&void 0===t&&(n.set(this.cssText,t=new CSSStyleSheet),t.replaceSync(this.cssText)),t}toString(){return this.cssText}}const r=(t,...e)=>{const n=1===t.length?t[0]:e.reduce(((e,i,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[n+1]),t[0]);return new s(n,i)},o=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return(t=>new s("string"==typeof t?t:t+"",i))(e)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var h;const a=window.reactiveElementPolyfillSupport,l={toAttribute(t,e){switch(e){case Boolean:t=t?"":null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},u=(t,e)=>e!==t&&(e==e||t==t),c={attribute:!0,type:String,converter:l,reflect:!1,hasChanged:u};class d extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var e;null!==(e=this.l)&&void 0!==e||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,i)=>{const n=this._$Eh(i,e);void 0!==n&&(this._$Eu.set(n,i),t.push(n))})),t}static createProperty(t,e=c){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const i="symbol"==typeof t?Symbol():"__"+t,n=this.getPropertyDescriptor(t,i,e);void 0!==n&&Object.defineProperty(this.prototype,t,n)}}static getPropertyDescriptor(t,e,i){return{get(){return this[e]},set(n){const s=this[t];this[e]=n,this.requestUpdate(t,s,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||c}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const i of e)this.createProperty(i,t[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(o(t))}else void 0!==t&&e.push(o(t));return e}static _$Eh(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}o(){var t;this._$Ev=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Ep(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,i;(null!==(e=this._$Em)&&void 0!==e?e:this._$Em=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(i=t.hostConnected)||void 0===i||i.call(t))}removeController(t){var e;null===(e=this._$Em)||void 0===e||e.splice(this._$Em.indexOf(t)>>>0,1)}_$Ep(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Et.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const i=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,i)=>{e?t.adoptedStyleSheets=i.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):i.forEach((e=>{const i=document.createElement("style"),n=window.litNonce;void 0!==n&&i.setAttribute("nonce",n),i.textContent=e.cssText,t.appendChild(i)}))})(i,this.constructor.elementStyles),i}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Em)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$Em)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$Eg(t,e,i=c){var n,s;const r=this.constructor._$Eh(t,i);if(void 0!==r&&!0===i.reflect){const o=(null!==(s=null===(n=i.converter)||void 0===n?void 0:n.toAttribute)&&void 0!==s?s:l.toAttribute)(e,i.type);this._$Ei=t,null==o?this.removeAttribute(r):this.setAttribute(r,o),this._$Ei=null}}_$AK(t,e){var i,n,s;const r=this.constructor,o=r._$Eu.get(t);if(void 0!==o&&this._$Ei!==o){const t=r.getPropertyOptions(o),h=t.converter,a=null!==(s=null!==(n=null===(i=h)||void 0===i?void 0:i.fromAttribute)&&void 0!==n?n:"function"==typeof h?h:null)&&void 0!==s?s:l.fromAttribute;this._$Ei=o,this[o]=a(e,t.type),this._$Ei=null}}requestUpdate(t,e,i){let n=!0;void 0!==t&&(((i=i||this.constructor.getPropertyOptions(t)).hasChanged||u)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===i.reflect&&this._$Ei!==t&&(void 0===this._$ES&&(this._$ES=new Map),this._$ES.set(t,i))):n=!1),!this.isUpdatePending&&n&&(this._$Ev=this._$EC())}async _$EC(){this.isUpdatePending=!0;try{await this._$Ev}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((t,e)=>this[e]=t)),this._$Et=void 0);let e=!1;const i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),null===(t=this._$Em)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(i)):this._$EU()}catch(t){throw e=!1,this._$EU(),t}e&&this._$AE(i)}willUpdate(t){}_$AE(t){var e;null===(e=this._$Em)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ev}shouldUpdate(t){return!0}update(t){void 0!==this._$ES&&(this._$ES.forEach(((t,e)=>this._$Eg(e,this[e],t))),this._$ES=void 0),this._$EU()}updated(t){}firstUpdated(t){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var f;d.finalized=!0,d.elementProperties=new Map,d.elementStyles=[],d.shadowRootOptions={mode:"open"},null==a||a({ReactiveElement:d}),(null!==(h=globalThis.reactiveElementVersions)&&void 0!==h?h:globalThis.reactiveElementVersions=[]).push("1.0.1");const p=globalThis.trustedTypes,m=p?p.createPolicy("lit-html",{createHTML:t=>t}):void 0,y=`lit$${(Math.random()+"").slice(9)}$`,g="?"+y,_=`<${g}>`,w=document,x=(t="")=>w.createComment(t),v=t=>null===t||"object"!=typeof t&&"function"!=typeof t,b=Array.isArray,A=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,$=/-->/g,S=/>/g,C=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,E=/'/g,M=/"/g,T=/^(?:script|style|textarea)$/i,k=(t=>(e,...i)=>({_$litType$:t,strings:e,values:i}))(1),O=Symbol.for("lit-noChange"),N=Symbol.for("lit-nothing"),P=new WeakMap,j=w.createTreeWalker(w,129,null,!1),R=(t,e)=>{const i=t.length-1,n=[];let s,r=2===e?"<svg>":"",o=A;for(let e=0;e<i;e++){const i=t[e];let h,a,l=-1,u=0;for(;u<i.length&&(o.lastIndex=u,a=o.exec(i),null!==a);)u=o.lastIndex,o===A?"!--"===a[1]?o=$:void 0!==a[1]?o=S:void 0!==a[2]?(T.test(a[2])&&(s=RegExp("</"+a[2],"g")),o=C):void 0!==a[3]&&(o=C):o===C?">"===a[0]?(o=null!=s?s:A,l=-1):void 0===a[1]?l=-2:(l=o.lastIndex-a[2].length,h=a[1],o=void 0===a[3]?C:'"'===a[3]?M:E):o===M||o===E?o=C:o===$||o===S?o=A:(o=C,s=void 0);const c=o===C&&t[e+1].startsWith("/>")?" ":"";r+=o===A?i+_:l>=0?(n.push(h),i.slice(0,l)+"$lit$"+i.slice(l)+y+c):i+y+(-2===l?(n.push(void 0),e):c)}const h=r+(t[i]||"<?>")+(2===e?"</svg>":"");return[void 0!==m?m.createHTML(h):h,n]};class z{constructor({strings:t,_$litType$:e},i){let n;this.parts=[];let s=0,r=0;const o=t.length-1,h=this.parts,[a,l]=R(t,e);if(this.el=z.createElement(a,i),j.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(n=j.nextNode())&&h.length<o;){if(1===n.nodeType){if(n.hasAttributes()){const t=[];for(const e of n.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(y)){const i=l[r++];if(t.push(e),void 0!==i){const t=n.getAttribute(i.toLowerCase()+"$lit$").split(y),e=/([.?@])?(.*)/.exec(i);h.push({type:1,index:s,name:e[2],strings:t,ctor:"."===e[1]?H:"?"===e[1]?U:"@"===e[1]?q:F})}else h.push({type:6,index:s})}for(const e of t)n.removeAttribute(e)}if(T.test(n.tagName)){const t=n.textContent.split(y),e=t.length-1;if(e>0){n.textContent=p?p.emptyScript:"";for(let i=0;i<e;i++)n.append(t[i],x()),j.nextNode(),h.push({type:2,index:++s});n.append(t[e],x())}}}else if(8===n.nodeType)if(n.data===g)h.push({type:2,index:s});else{let t=-1;for(;-1!==(t=n.data.indexOf(y,t+1));)h.push({type:7,index:s}),t+=y.length-1}s++}}static createElement(t,e){const i=w.createElement("template");return i.innerHTML=t,i}}function D(t,e,i=t,n){var s,r,o,h;if(e===O)return e;let a=void 0!==n?null===(s=i._$Cl)||void 0===s?void 0:s[n]:i._$Cu;const l=v(e)?void 0:e._$litDirective$;return(null==a?void 0:a.constructor)!==l&&(null===(r=null==a?void 0:a._$AO)||void 0===r||r.call(a,!1),void 0===l?a=void 0:(a=new l(t),a._$AT(t,i,n)),void 0!==n?(null!==(o=(h=i)._$Cl)&&void 0!==o?o:h._$Cl=[])[n]=a:i._$Cu=a),void 0!==a&&(e=D(t,a._$AS(t,e.values),a,n)),e}class I{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:i},parts:n}=this._$AD,s=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:w).importNode(i,!0);j.currentNode=s;let r=j.nextNode(),o=0,h=0,a=n[0];for(;void 0!==a;){if(o===a.index){let e;2===a.type?e=new L(r,r.nextSibling,this,t):1===a.type?e=new a.ctor(r,a.name,a.strings,this,t):6===a.type&&(e=new B(r,this,t)),this.v.push(e),a=n[++h]}o!==(null==a?void 0:a.index)&&(r=j.nextNode(),o++)}return s}m(t){let e=0;for(const i of this.v)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class L{constructor(t,e,i,n){var s;this.type=2,this._$AH=N,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=n,this._$Cg=null===(s=null==n?void 0:n.isConnected)||void 0===s||s}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=D(this,t,e),v(t)?t===N||null==t||""===t?(this._$AH!==N&&this._$AR(),this._$AH=N):t!==this._$AH&&t!==O&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.S(t):(t=>{var e;return b(t)||"function"==typeof(null===(e=t)||void 0===e?void 0:e[Symbol.iterator])})(t)?this.M(t):this.$(t)}A(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}S(t){this._$AH!==t&&(this._$AR(),this._$AH=this.A(t))}$(t){this._$AH!==N&&v(this._$AH)?this._$AA.nextSibling.data=t:this.S(w.createTextNode(t)),this._$AH=t}T(t){var e;const{values:i,_$litType$:n}=t,s="number"==typeof n?this._$AC(t):(void 0===n.el&&(n.el=z.createElement(n.h,this.options)),n);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===s)this._$AH.m(i);else{const t=new I(s,this),e=t.p(this.options);t.m(i),this.S(e),this._$AH=t}}_$AC(t){let e=P.get(t.strings);return void 0===e&&P.set(t.strings,e=new z(t)),e}M(t){b(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,n=0;for(const s of t)n===e.length?e.push(i=new L(this.A(x()),this.A(x()),this,this.options)):i=e[n],i._$AI(s),n++;n<e.length&&(this._$AR(i&&i._$AB.nextSibling,n),e.length=n)}_$AR(t=this._$AA.nextSibling,e){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cg=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class F{constructor(t,e,i,n,s){this.type=1,this._$AH=N,this._$AN=void 0,this.element=t,this.name=e,this._$AM=n,this.options=s,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=N}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,i,n){const s=this.strings;let r=!1;if(void 0===s)t=D(this,t,e,0),r=!v(t)||t!==this._$AH&&t!==O,r&&(this._$AH=t);else{const n=t;let o,h;for(t=s[0],o=0;o<s.length-1;o++)h=D(this,n[i+o],e,o),h===O&&(h=this._$AH[o]),r||(r=!v(h)||h!==this._$AH[o]),h===N?t=N:t!==N&&(t+=(null!=h?h:"")+s[o+1]),this._$AH[o]=h}r&&!n&&this.k(t)}k(t){t===N?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class H extends F{constructor(){super(...arguments),this.type=3}k(t){this.element[this.name]=t===N?void 0:t}}class U extends F{constructor(){super(...arguments),this.type=4}k(t){t&&t!==N?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}class q extends F{constructor(t,e,i,n,s){super(t,e,i,n,s),this.type=5}_$AI(t,e=this){var i;if((t=null!==(i=D(this,t,e,0))&&void 0!==i?i:N)===O)return;const n=this._$AH,s=t===N&&n!==N||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,r=t!==N&&(n===N||s);s&&this.element.removeEventListener(this.name,this,n),r&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==i?i:this.element,t):this._$AH.handleEvent(t)}}class B{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){D(this,t)}}const X=window.litHtmlPolyfillSupport;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var Y,V;null==X||X(z,L),(null!==(f=globalThis.litHtmlVersions)&&void 0!==f?f:globalThis.litHtmlVersions=[]).push("2.0.1");class G extends d{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=((t,e,i)=>{var n,s;const r=null!==(n=null==i?void 0:i.renderBefore)&&void 0!==n?n:e;let o=r._$litPart$;if(void 0===o){const t=null!==(s=null==i?void 0:i.renderBefore)&&void 0!==s?s:null;r._$litPart$=o=new L(e.insertBefore(x(),t),t,void 0,null!=i?i:{})}return o._$AI(t),o})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return O}}G.finalized=!0,G._$litElement$=!0,null===(Y=globalThis.litElementHydrateSupport)||void 0===Y||Y.call(globalThis,{LitElement:G});const W=globalThis.litElementPolyfillSupport;null==W||W({LitElement:G}),(null!==(V=globalThis.litElementVersions)&&void 0!==V?V:globalThis.litElementVersions=[]).push("3.0.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Q=t=>e=>"function"==typeof e?((t,e)=>(window.customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:i,elements:n}=e;return{kind:i,elements:n,finisher(e){window.customElements.define(t,e)}}})(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,J=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(i){i.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(i){i.createProperty(e.key,t)}};function Z(t){return(e,i)=>void 0!==i?((t,e,i)=>{e.constructor.createProperty(i,t)})(t,e,i):J(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}function K(t){return Z({...t,state:!0})}const tt=[r``];let et=class extends G{render(){return k`<editor-layout></editor-layout>`}};et.styles=[tt],et=t([Q("svg-editor")],et);const it=r`:host{transition:all 1s;padding:5px;display:flex;flex-direction:column;gap:5px;background-color:#2196f3}#footer{background-color:rgba(255,255,255,.8)}`,nt=r`#header{background-color:rgba(255,255,255,.8);width:100%}`,st=r`#content{display:flex;flex-wrap:nowrap;gap:5px}#connection-info{background-color:rgba(255,255,255,.8)}`;let rt=class extends G{constructor(){super(...arguments),this.handleSelectTool=t=>{this.selectedTool=t,this.tools=this.tools.map((e=>e.id===t?Object.assign(Object.assign({},e),{isSelected:!e.isSelected}):Object.assign(Object.assign({},e),{isSelected:!1})))},this.tools=[{title:"Tool 0",onClick:this.handleSelectTool,id:"0",isSelected:!1},{title:"Tool 1",onClick:this.handleSelectTool,id:"1",isSelected:!1},{title:"Tool 2",onClick:this.handleSelectTool,id:"2",isSelected:!1},{title:"Tool 3",onClick:this.handleSelectTool,id:"3",isSelected:!1},{title:"Tool 4",onClick:this.handleSelectTool,id:"4",isSelected:!1},{title:"Tool 5",onClick:this.handleSelectTool,id:"5",isSelected:!1},{title:"Tool 6",onClick:this.handleSelectTool,id:"6",isSelected:!1}],this.xPos=null,this.yPos=null,this.selectedTool=null,this.openedFile="",this.handlePositionChange=t=>{this.xPos=t.xPosition,this.yPos=t.yPosition},this.openFile=t=>{this.openedFile=t}}render(){return k`<editor-header .onSelectSvgFile="${this.openFile}"></editor-header><div id="content"><tool-box .selectedTool="${this.selectedTool}" .tools="${this.tools}"></tool-box><draw-zone .onPositionChange="${this.handlePositionChange}" .mouseX="${this.xPos}" .mouseY="${this.yPos}" .openedFile="${this.openedFile}"></draw-zone><div id="connection-info">connection-info</div></div><div id="footer">current position: ${this.xPos} - ${this.yPos}</div>`}};rt.styles=[it,nt,st],t([K()],rt.prototype,"tools",void 0),t([K()],rt.prototype,"xPos",void 0),t([K()],rt.prototype,"yPos",void 0),t([K()],rt.prototype,"selectedTool",void 0),t([K()],rt.prototype,"openedFile",void 0),rt=t([Q("editor-layout")],rt);const ot=r`:host{min-width:47.6px;display:block}button{aspect-ratio:1;border-radius:0;padding:5px;display:flex;justify-content:center;align-items:center}button:not(.isSelected){border:1px solid grey;background-color:#fff}button.isSelected{border:1px solid #00f;background-color:#0ff}`;r``;let ht=class extends G{handleClick(){var t;this.buttonId&&(null===(t=this.onClick)||void 0===t||t.call(this,this.buttonId))}render(){return console.log(this.children),k`<button class="${this.isSelected?"isSelected":""}" @click="${this.handleClick}">${this.title}</button>`}};ht.styles=[ot],t([Z({type:Boolean})],ht.prototype,"isSelected",void 0),t([Z({type:String})],ht.prototype,"buttonId",void 0),t([Z()],ht.prototype,"onClick",void 0),ht=t([Q("toolbox-button")],ht);const at=r`:host{min-width:105px;transition:width 1s,height 1s;background-color:rgba(255,255,255,.8);width:fit-content;display:flex;gap:5px;padding:5px}:host>.col-0,:host>.col-1{flex:.5 1 5%;display:flex;flex-direction:column;gap:5px}`,lt=(t,e)=>null==e?void 0:e.slice(t[0],t[1]).map(((t,e)=>k`<span class="row-${e}"><toolbox-button .onClick="${t.onClick}" .buttonId="${t.id}" .title="${t.title}" .isSelected="${t.isSelected}"></toolbox-button></span>`));let ut=class extends G{render(){var t,e;const i=null!==(e=null===(t=this.tools)||void 0===t?void 0:t.length)&&void 0!==e?e:0,n=[(i+i%2)/2,i];return k`<div class="col-0">${lt([0,(i+i%2)/2],this.tools)}</div><div class="col-1">${lt(n,this.tools)}</div>`}};ut.styles=at,t([Z({type:Array})],ut.prototype,"tools",void 0),t([Z({type:String})],ut.prototype,"selectedTool",void 0),ut=t([Q("tool-box")],ut);const ct={},dt=[];function ft(t,e){if(Array.isArray(t))for(const i of t)ft(i,e);else if("object"!=typeof t)mt(Object.getOwnPropertyNames(e)),ct[t]=Object.assign(ct[t]||{},e);else for(const e in t)ft(e,t[e])}function pt(t){return ct[t]||{}}function mt(t){dt.push(...t)}function yt(t,e){let i;const n=t.length,s=[];for(i=0;i<n;i++)s.push(e(t[i]));return s}function gt(t,e){let i;const n=t.length,s=[];for(i=0;i<n;i++)e(t[i])&&s.push(t[i]);return s}function _t(t){return t%360*Math.PI/180}function wt(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function xt(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))}function vt(t){return t.charAt(0).toUpperCase()+t.slice(1)}function bt(t,e,i,n){return null!=e&&null!=i||(n=n||t.bbox(),null==e?e=n.width/n.height*i:null==i&&(i=n.height/n.width*e)),{width:e,height:i}}function At(t,e){const i=t.origin;let n=null!=t.ox?t.ox:null!=t.originX?t.originX:"center",s=null!=t.oy?t.oy:null!=t.originY?t.originY:"center";null!=i&&([n,s]=Array.isArray(i)?i:"object"==typeof i?[i.x,i.y]:[i,i]);const r="string"==typeof n,o="string"==typeof s;if(r||o){const{height:t,width:i,x:h,y:a}=e.bbox();r&&(n=n.includes("left")?h:n.includes("right")?h+i:h+i/2),o&&(s=s.includes("top")?a:s.includes("bottom")?a+t:a+t/2)}return[n,s]}const $t="http://www.w3.org/2000/svg",St="http://www.w3.org/2000/xmlns/",Ct="http://www.w3.org/1999/xlink",Et={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};class Mt{}const Tt={},kt="___SYMBOL___ROOT___";function Ot(t,e=$t){return Et.document.createElementNS(e,t)}function Nt(t,e=!1){if(t instanceof Mt)return t;if("object"==typeof t)return Rt(t);if(null==t)return new Tt[kt];if("string"==typeof t&&"<"!==t.charAt(0))return Rt(Et.document.querySelector(t));const i=e?Et.document.createElement("div"):Ot("svg");return i.innerHTML=t,t=Rt(i.firstChild),i.removeChild(i.firstChild),t}function Pt(t,e){return e instanceof Et.window.Node?e:Ot(t)}function jt(t){if(!t)return null;if(t.instance instanceof Mt)return t.instance;if("#document-fragment"===t.nodeName)return new Tt.Fragment(t);let e=vt(t.nodeName||"Dom");return"LinearGradient"===e||"RadialGradient"===e?e="Gradient":Tt[e]||(e="Dom"),new Tt[e](t)}let Rt=jt;function zt(t,e=t.name,i=!1){return Tt[e]=t,i&&(Tt[kt]=t),mt(Object.getOwnPropertyNames(t.prototype)),t}let Dt=1e3;function It(t){return"Svgjs"+vt(t)+Dt++}function Lt(t){for(let e=t.children.length-1;e>=0;e--)Lt(t.children[e]);return t.id?(t.id=It(t.nodeName),t):t}function Ft(t,e){let i,n;for(n=(t=Array.isArray(t)?t:[t]).length-1;n>=0;n--)for(i in e)t[n].prototype[i]=e[i]}function Ht(t){return function(...e){const i=e[e.length-1];return!i||i.constructor!==Object||i instanceof Array?t.apply(this,e):t.apply(this,e.slice(0,-1)).attr(i)}}ft("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const t=this.position();return this.parent().add(this.remove(),t+1),this},backward:function(){const t=this.position();return this.parent().add(this.remove(),t?t-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(t){(t=Nt(t)).remove();const e=this.position();return this.parent().add(t,e),this},after:function(t){(t=Nt(t)).remove();const e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=Nt(t)).before(this),this},insertAfter:function(t){return(t=Nt(t)).after(this),this}});const Ut=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,qt=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Bt=/rgb\((\d+),(\d+),(\d+)\)/,Xt=/(#[a-z_][a-z0-9\-_]*)/i,Yt=/\)\s*,?\s*/,Vt=/\s/g,Gt=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,Wt=/^rgb\(/,Qt=/^(\s+)?$/,Jt=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zt=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Kt=/[\s,]+/,te=/[MLHVCSQTAZ]/i;function ee(t){const e=Math.round(t),i=Math.max(0,Math.min(255,e)).toString(16);return 1===i.length?"0"+i:i}function ie(t,e){for(let i=e.length;i--;)if(null==t[e[i]])return!1;return!0}function ne(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}ft("Dom",{classes:function(){const t=this.attr("class");return null==t?[]:t.trim().split(Kt)},hasClass:function(t){return-1!==this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){const e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!==t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),ft("Dom",{css:function(t,e){const i={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter((function(t){return!!t.length})).forEach((function(t){const e=t.split(/\s*:\s*/);i[e[0]]=e[1]})),i;if(arguments.length<2){if(Array.isArray(t)){for(const e of t){const t=wt(e);i[t]=this.node.style[t]}return i}if("string"==typeof t)return this.node.style[wt(t)];if("object"==typeof t)for(const e in t)this.node.style[wt(e)]=null==t[e]||Qt.test(t[e])?"":t[e]}return 2===arguments.length&&(this.node.style[wt(t)]=null==e||Qt.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),ft("Dom",{data:function(t,e,i){if(null==t)return this.data(yt(gt(this.node.attributes,(t=>0===t.nodeName.indexOf("data-"))),(t=>t.nodeName.slice(5))));if(t instanceof Array){const e={};for(const i of t)e[i]=this.data(i);return e}if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===i||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),ft("Dom",{remember:function(t,e){if("object"==typeof arguments[0])for(const e in t)this.remember(e,t[e]);else{if(1===arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0===arguments.length)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});class se{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof se||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b}static random(t="vibrant",e,i){const{random:n,round:s,sin:r,PI:o}=Math;if("vibrant"===t){const t=24*n()+57,e=38*n()+45,i=360*n();return new se(t,e,i,"lch")}if("sine"===t){const t=s(80*r(2*o*(e=e??n())/.5+.01)+150),i=s(50*r(2*o*e/.5+4.6)+200),h=s(100*r(2*o*e/.5+2.3)+150);return new se(t,i,h)}if("pastel"===t){const t=8*n()+86,e=17*n()+9,i=360*n();return new se(t,e,i,"lch")}if("dark"===t){const t=10+10*n(),e=50*n()+86,i=360*n();return new se(t,e,i,"lch")}if("rgb"===t){const t=255*n(),e=255*n(),i=255*n();return new se(t,e,i)}if("lab"===t){const t=100*n(),e=256*n()-128,i=256*n()-128;return new se(t,e,i,"lab")}if("grey"===t){const t=255*n();return new se(t,t,t)}throw new Error("Unsupported random color mode")}static test(t){return"string"==typeof t&&(Gt.test(t)||Wt.test(t))}cmyk(){const{_a:t,_b:e,_c:i}=this.rgb(),[n,s,r]=[t,e,i].map((t=>t/255)),o=Math.min(1-n,1-s,1-r);if(1===o)return new se(0,0,0,1,"cmyk");return new se((1-n-o)/(1-o),(1-s-o)/(1-o),(1-r-o)/(1-o),o,"cmyk")}hsl(){const{_a:t,_b:e,_c:i}=this.rgb(),[n,s,r]=[t,e,i].map((t=>t/255)),o=Math.max(n,s,r),h=Math.min(n,s,r),a=(o+h)/2,l=o===h,u=o-h;return new se(360*(l?0:o===n?((s-r)/u+(s<r?6:0))/6:o===s?((r-n)/u+2)/6:o===r?((n-s)/u+4)/6:0),100*(l?0:a>.5?u/(2-o-h):u/(o+h)),100*a,"hsl")}init(t=0,e=0,i=0,n=0,s="rgb"){if(t=t||0,this.space)for(const t in this.space)delete this[this.space[t]];if("number"==typeof t)s="string"==typeof n?n:s,n="string"==typeof n?0:n,Object.assign(this,{_a:t,_b:e,_c:i,_d:n,space:s});else if(t instanceof Array)this.space=e||("string"==typeof t[3]?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const i=function(t,e){const i=ie(t,"rgb")?{_a:t.r,_b:t.g,_c:t.b,_d:0,space:"rgb"}:ie(t,"xyz")?{_a:t.x,_b:t.y,_c:t.z,_d:0,space:"xyz"}:ie(t,"hsl")?{_a:t.h,_b:t.s,_c:t.l,_d:0,space:"hsl"}:ie(t,"lab")?{_a:t.l,_b:t.a,_c:t.b,_d:0,space:"lab"}:ie(t,"lch")?{_a:t.l,_b:t.c,_c:t.h,_d:0,space:"lch"}:ie(t,"cmyk")?{_a:t.c,_b:t.m,_c:t.y,_d:t.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return i.space=e||i.space,i}(t,e);Object.assign(this,i)}else if("string"==typeof t)if(Wt.test(t)){const e=t.replace(Vt,""),[i,n,s]=Bt.exec(e).slice(1,4).map((t=>parseInt(t)));Object.assign(this,{_a:i,_b:n,_c:s,_d:0,space:"rgb"})}else{if(!Gt.test(t))throw Error("Unsupported string format, can't construct Color");{const e=t=>parseInt(t,16),[,i,n,s]=qt.exec(function(t){return 4===t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}(t)).map(e);Object.assign(this,{_a:i,_b:n,_c:s,_d:0,space:"rgb"})}}const{_a:r,_b:o,_c:h,_d:a}=this,l="rgb"===this.space?{r,g:o,b:h}:"xyz"===this.space?{x:r,y:o,z:h}:"hsl"===this.space?{h:r,s:o,l:h}:"lab"===this.space?{l:r,a:o,b:h}:"lch"===this.space?{l:r,c:o,h}:"cmyk"===this.space?{c:r,m:o,y:h,k:a}:{};Object.assign(this,l)}lab(){const{x:t,y:e,z:i}=this.xyz();return new se(116*e-16,500*(t-e),200*(e-i),"lab")}lch(){const{l:t,a:e,b:i}=this.lab(),n=Math.sqrt(e**2+i**2);let s=180*Math.atan2(i,e)/Math.PI;s<0&&(s*=-1,s=360-s);return new se(t,n,s,"lch")}rgb(){if("rgb"===this.space)return this;if("lab"===(t=this.space)||"xyz"===t||"lch"===t){let{x:t,y:e,z:i}=this;if("lab"===this.space||"lch"===this.space){let{l:n,a:s,b:r}=this;if("lch"===this.space){const{c:t,h:e}=this,i=Math.PI/180;s=t*Math.cos(i*e),r=t*Math.sin(i*e)}const o=(n+16)/116,h=s/500+o,a=o-r/200,l=16/116,u=.008856,c=7.787;t=.95047*(h**3>u?h**3:(h-l)/c),e=1*(o**3>u?o**3:(o-l)/c),i=1.08883*(a**3>u?a**3:(a-l)/c)}const n=3.2406*t+-1.5372*e+-.4986*i,s=-.9689*t+1.8758*e+.0415*i,r=.0557*t+-.204*e+1.057*i,o=Math.pow,h=.0031308,a=n>h?1.055*o(n,1/2.4)-.055:12.92*n,l=s>h?1.055*o(s,1/2.4)-.055:12.92*s,u=r>h?1.055*o(r,1/2.4)-.055:12.92*r;return new se(255*a,255*l,255*u)}if("hsl"===this.space){let{h:t,s:e,l:i}=this;if(t/=360,e/=100,i/=100,0===e){i*=255;return new se(i,i,i)}const n=i<.5?i*(1+e):i+e-i*e,s=2*i-n,r=255*ne(s,n,t+1/3),o=255*ne(s,n,t),h=255*ne(s,n,t-1/3);return new se(r,o,h)}if("cmyk"===this.space){const{c:t,m:e,y:i,k:n}=this,s=255*(1-Math.min(1,t*(1-n)+n)),r=255*(1-Math.min(1,e*(1-n)+n)),o=255*(1-Math.min(1,i*(1-n)+n));return new se(s,r,o)}return this;var t}toArray(){const{_a:t,_b:e,_c:i,_d:n,space:s}=this;return[t,e,i,n,s]}toHex(){const[t,e,i]=this._clamped().map(ee);return`#${t}${e}${i}`}toRgb(){const[t,e,i]=this._clamped();return`rgb(${t},${e},${i})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:i}=this.rgb(),[n,s,r]=[t,e,i].map((t=>t/255)),o=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,h=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,a=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,l=(.4124*o+.3576*h+.1805*a)/.95047,u=(.2126*o+.7152*h+.0722*a)/1,c=(.0193*o+.1192*h+.9505*a)/1.08883,d=l>.008856?Math.pow(l,1/3):7.787*l+16/116,f=u>.008856?Math.pow(u,1/3):7.787*u+16/116,p=c>.008856?Math.pow(c,1/3):7.787*c+16/116;return new se(d,f,p,"xyz")}_clamped(){const{_a:t,_b:e,_c:i}=this.rgb(),{max:n,min:s,round:r}=Math;return[t,e,i].map((t=>n(0,s(r(t),255))))}}class re{constructor(...t){this.init(...t)}clone(){return new re(this)}init(t,e){const i=0,n=0,s=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:{x:t,y:e};return this.x=s.x??i,this.y=s.y??n,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){he.isMatrixLike(t)||(t=new he(t));const{x:e,y:i}=this;return this.x=t.a*e+t.c*i+t.e,this.y=t.b*e+t.d*i+t.f,this}}function oe(t,e,i){return Math.abs(e-t)<(i||1e-6)}class he{constructor(...t){this.init(...t)}static formatTransforms(t){const e="both"===t.flip||!0===t.flip,i=t.flip&&(e||"x"===t.flip)?-1:1,n=t.flip&&(e||"y"===t.flip)?-1:1,s=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,r=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,o=t.scale&&t.scale.length?t.scale[0]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleX)?t.scaleX*i:i,h=t.scale&&t.scale.length?t.scale[1]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleY)?t.scaleY*n:n,a=t.shear||0,l=t.rotate||t.theta||0,u=new re(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),c=u.x,d=u.y,f=new re(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),p=f.x,m=f.y,y=new re(t.translate||t.tx||t.translateX,t.ty||t.translateY),g=y.x,_=y.y,w=new re(t.relative||t.rx||t.relativeX,t.ry||t.relativeY);return{scaleX:o,scaleY:h,skewX:s,skewY:r,shear:a,theta:l,rx:w.x,ry:w.y,tx:g,ty:_,ox:c,oy:d,px:p,py:m}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return null!=t.a||null!=t.b||null!=t.c||null!=t.d||null!=t.e||null!=t.f}static matrixMultiply(t,e,i){const n=t.a*e.a+t.c*e.b,s=t.b*e.a+t.d*e.b,r=t.a*e.c+t.c*e.d,o=t.b*e.c+t.d*e.d,h=t.e+t.a*e.e+t.c*e.f,a=t.f+t.b*e.e+t.d*e.f;return i.a=n,i.b=s,i.c=r,i.d=o,i.e=h,i.f=a,i}around(t,e,i){return this.clone().aroundO(t,e,i)}aroundO(t,e,i){const n=t||0,s=e||0;return this.translateO(-n,-s).lmultiplyO(i).translateO(n,s)}clone(){return new he(this)}decompose(t=0,e=0){const i=this.a,n=this.b,s=this.c,r=this.d,o=this.e,h=this.f,a=i*r-n*s,l=a>0?1:-1,u=l*Math.sqrt(i*i+n*n),c=Math.atan2(l*n,l*i),d=180/Math.PI*c,f=Math.cos(c),p=Math.sin(c),m=(i*s+n*r)/a,y=s*u/(m*i-n)||r*u/(m*n+i);return{scaleX:u,scaleY:y,shear:m,rotate:d,translateX:o-t+t*f*u+e*(m*f*u-p*y),translateY:h-e+t*p*u+e*(m*p*u+f*y),originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new he(t);return oe(this.a,e.a)&&oe(this.b,e.b)&&oe(this.c,e.c)&&oe(this.d,e.d)&&oe(this.e,e.e)&&oe(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return"x"===t?this.scaleO(-1,1,e,0):"y"===t?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=he.fromArray([1,0,0,1,0,0]);return t=t instanceof Oe?t.matrixify():"string"==typeof t?he.fromArray(t.split(Kt).map(parseFloat)):Array.isArray(t)?he.fromArray(t):"object"==typeof t&&he.isMatrixLike(t)?t:"object"==typeof t?(new he).transform(t):6===arguments.length?he.fromArray([].slice.call(arguments)):e,this.a=null!=t.a?t.a:e.a,this.b=null!=t.b?t.b:e.b,this.c=null!=t.c?t.c:e.c,this.d=null!=t.d?t.d:e.d,this.e=null!=t.e?t.e:e.e,this.f=null!=t.f?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,i=this.c,n=this.d,s=this.e,r=this.f,o=t*n-e*i;if(!o)throw new Error("Cannot invert "+this);const h=n/o,a=-e/o,l=-i/o,u=t/o,c=-(h*s+l*r),d=-(a*s+u*r);return this.a=h,this.b=a,this.c=l,this.d=u,this.e=c,this.f=d,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=t instanceof he?t:new he(t);return he.matrixMultiply(e,this,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=t instanceof he?t:new he(t);return he.matrixMultiply(this,e,this)}rotate(t,e,i){return this.clone().rotateO(t,e,i)}rotateO(t,e=0,i=0){t=_t(t);const n=Math.cos(t),s=Math.sin(t),{a:r,b:o,c:h,d:a,e:l,f:u}=this;return this.a=r*n-o*s,this.b=o*n+r*s,this.c=h*n-a*s,this.d=a*n+h*s,this.e=l*n-u*s+i*s-e*n+e,this.f=u*n+l*s-e*s-i*n+i,this}scale(t,e,i,n){return this.clone().scaleO(...arguments)}scaleO(t,e=t,i=0,n=0){3===arguments.length&&(n=i,i=e,e=t);const{a:s,b:r,c:o,d:h,e:a,f:l}=this;return this.a=s*t,this.b=r*e,this.c=o*t,this.d=h*e,this.e=a*t-i*t+i,this.f=l*e-n*e+n,this}shear(t,e,i){return this.clone().shearO(t,e,i)}shearO(t,e=0,i=0){const{a:n,b:s,c:r,d:o,e:h,f:a}=this;return this.a=n+s*t,this.c=r+o*t,this.e=h+a*t-i*t,this}skew(t,e,i,n){return this.clone().skewO(...arguments)}skewO(t,e=t,i=0,n=0){3===arguments.length&&(n=i,i=e,e=t),t=_t(t),e=_t(e);const s=Math.tan(t),r=Math.tan(e),{a:o,b:h,c:a,d:l,e:u,f:c}=this;return this.a=o+h*s,this.b=h+o*r,this.c=a+l*s,this.d=l+a*r,this.e=u+c*s-n*s,this.f=c+u*r-i*r,this}skewX(t,e,i){return this.skew(t,0,e,i)}skewY(t,e,i){return this.skew(0,t,e,i)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(he.isMatrixLike(t)){return new he(t).multiplyO(this)}const e=he.formatTransforms(t),{x:i,y:n}=new re(e.ox,e.oy).transform(this),s=(new he).translateO(e.rx,e.ry).lmultiplyO(this).translateO(-i,-n).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(i,n);if(isFinite(e.px)||isFinite(e.py)){const t=new re(i,n).transform(s),r=isFinite(e.px)?e.px-t.x:0,o=isFinite(e.py)?e.py-t.y:0;s.translateO(r,o)}return s.translateO(e.tx,e.ty),s}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function ae(){if(!ae.nodes){const t=Nt().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");const e=t.path().node;ae.nodes={svg:t,path:e}}if(!ae.nodes.svg.node.parentNode){const t=Et.document.body||Et.document.documentElement;ae.nodes.svg.addTo(t)}return ae.nodes}function le(t){return!(t.width||t.height||t.x||t.y)}zt(he,"Matrix");class ue{constructor(...t){this.init(...t)}addOffset(){return this.x+=Et.window.pageXOffset,this.y+=Et.window.pageYOffset,new ue(this)}init(t){return t="string"==typeof t?t.split(Kt).map(parseFloat):Array.isArray(t)?t:"object"==typeof t?[null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height]:4===arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return le(this)}merge(t){const e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width)-e,s=Math.max(this.y+this.height,t.y+t.height)-i;return new ue(e,i,n,s)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof he||(t=new he(t));let e=1/0,i=-1/0,n=1/0,s=-1/0;return[new re(this.x,this.y),new re(this.x2,this.y),new re(this.x,this.y2),new re(this.x2,this.y2)].forEach((function(r){r=r.transform(t),e=Math.min(e,r.x),i=Math.max(i,r.x),n=Math.min(n,r.y),s=Math.max(s,r.y)})),new ue(e,n,i-e,s-n)}}function ce(t,e,i){let n;try{if(n=e(t.node),le(n)&&((s=t.node)!==Et.document&&!(Et.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===Et.document}).call(Et.document.documentElement,s)))throw new Error("Element not in the dom")}catch(e){n=i(t)}var s;return n}ft({viewbox:{viewbox(t,e,i,n){return null==t?new ue(this.attr("viewBox")):this.attr("viewBox",new ue(t,e,i,n))},zoom(t,e){let{width:i,height:n}=this.attr(["width","height"]);if((i||n)&&"string"!=typeof i&&"string"!=typeof n||(i=this.node.clientWidth,n=this.node.clientHeight),!i||!n)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const s=this.viewbox(),r=i/s.width,o=n/s.height,h=Math.min(r,o);if(null==t)return h;let a=h/t;a===1/0&&(a=Number.MAX_SAFE_INTEGER/100),e=e||new re(i/2/r+s.x,n/2/o+s.y);const l=new ue(s).transform(new he({scale:a,origin:e}));return this.viewbox(l)}}}),zt(ue,"Box");class de extends Array{constructor(t=[],...e){if(super(t,...e),"number"==typeof t)return this;this.length=0,this.push(...t)}}Ft([de],{each(t,...e){return"function"==typeof t?this.map(((e,i,n)=>t.call(e,e,i,n))):this.map((i=>i[t](...e)))},toArray(){return Array.prototype.concat.apply([],this)}});const fe=["toArray","constructor","each"];function pe(t,e){return new de(yt((e||Et.document).querySelectorAll(t),(function(t){return jt(t)})))}de.extend=function(t){t=t.reduce(((t,e)=>(fe.includes(e)||"_"===e[0]||(t[e]=function(...t){return this.each(e,...t)}),t)),{}),Ft([de],t)};let me=0;const ye={};function ge(t){let e=t.getEventHolder();return e===Et.window&&(e=ye),e.events||(e.events={}),e.events}function _e(t){return t.getEventTarget()}function we(t,e,i,n,s){const r=i.bind(n||t),o=Nt(t),h=ge(o),a=_e(o);e=Array.isArray(e)?e:e.split(Kt),i._svgjsListenerId||(i._svgjsListenerId=++me),e.forEach((function(t){const e=t.split(".")[0],n=t.split(".")[1]||"*";h[e]=h[e]||{},h[e][n]=h[e][n]||{},h[e][n][i._svgjsListenerId]=r,a.addEventListener(e,r,s||!1)}))}function xe(t,e,i,n){const s=Nt(t),r=ge(s),o=_e(s);("function"!=typeof i||(i=i._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(Kt)).forEach((function(t){const e=t&&t.split(".")[0],h=t&&t.split(".")[1];let a,l;if(i)r[e]&&r[e][h||"*"]&&(o.removeEventListener(e,r[e][h||"*"][i],n||!1),delete r[e][h||"*"][i]);else if(e&&h){if(r[e]&&r[e][h]){for(l in r[e][h])xe(o,[e,h].join("."),l);delete r[e][h]}}else if(h)for(t in r)for(a in r[t])h===a&&xe(o,[t,h].join("."));else if(e){if(r[e]){for(a in r[e])xe(o,[e,a].join("."));delete r[e]}}else{for(t in r)xe(o,t);!function(t){let e=t.getEventHolder();e===Et.window&&(e=ye),e.events&&(e.events={})}(s)}}))}class ve extends Mt{addEventListener(){}dispatch(t,e,i){return function(t,e,i,n){const s=_e(t);return e instanceof Et.window.Event||(e=new Et.window.CustomEvent(e,{detail:i,cancelable:!0,...n})),s.dispatchEvent(e),e}(this,t,e,i)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const i=e[t.type];for(const e in i)for(const n in i[e])i[e][n](t);return!t.defaultPrevented}fire(t,e,i){return this.dispatch(t,e,i),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e){return xe(this,t,e),this}on(t,e,i,n){return we(this,t,e,i,n),this}removeEventListener(){}}function be(){}zt(ve,"EventTarget");const Ae=400,$e=">",Se=0,Ce={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class Ee extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return"number"==typeof t||(this.length=0,this.push(...this.parse(t))),this}parse(t=[]){return t instanceof Array?t:t.trim().split(Kt).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class Me{constructor(...t){this.init(...t)}convert(t){return new Me(this.value,t)}divide(t){return t=new Me(t),new Me(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(Ut))&&(this.value=parseFloat(e[1]),"%"===e[5]?this.value/=100:"s"===e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof Me&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new Me(t),new Me(this-t,this.unit||t.unit)}plus(t){return t=new Me(t),new Me(this+t,this.unit||t.unit)}times(t){return t=new Me(t),new Me(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Te=[];class ke extends ve{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return(t=Nt(t)).removeNamespace&&this.node instanceof Et.window.SVGElement&&t.removeNamespace(),null==e?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return Nt(t).put(this,e)}children(){return new de(yt(this.node.children,(function(t){return jt(t)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0){return this.writeDataToDom(),new this.constructor(Lt(this.node.cloneNode(t)))}each(t,e){const i=this.children();let n,s;for(n=0,s=i.length;n<s;n++)t.apply(i[n],[n,i]),e&&i[n].each(t,e);return this}element(t,e){return this.put(new ke(Ot(t),e))}first(){return jt(this.node.firstChild)}get(t){return jt(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,"http://www.w3.org/1999/xhtml")}id(t){return void 0!==t||this.node.id||(this.node.id=It(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return jt(this.node.lastChild)}matches(t){const e=this.node,i=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return i&&i.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=jt(e.node.parentNode),!t)return e;do{if("string"==typeof t?e.matches(t):e instanceof t)return e}while(e=jt(e.node.parentNode));return e}put(t,e){return t=Nt(t),this.add(t,e),t}putIn(t,e){return Nt(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=Nt(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const i=10**t,n=this.attr(e);for(const t in n)"number"==typeof n[t]&&(n[t]=Math.round(n[t]*i)/i);return this.attr(n),this}svg(t,e){return this.xml(t,e,$t)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const i=e.index(this);return e.put(t,i).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(t,e,i){if("boolean"==typeof t&&(i=e,e=t,t=null),null==t||"function"==typeof t){e=e??!0,this.writeDataToDom();let i=this;if(null!=t){if(i=jt(i.node.cloneNode(!0)),e){const e=t(i);if(i=e||i,!1===e)return""}i.each((function(){const e=t(this),i=e||this;!1===e?this.remove():e&&this!==i&&this.replace(i)}),!0)}return e?i.node.outerHTML:i.node.innerHTML}e=e??!1;const n=Ot("wrapper",i),s=Et.document.createDocumentFragment();n.innerHTML=t;for(let t=n.children.length;t--;)s.appendChild(n.firstElementChild);const r=this.parent();return e?this.replace(s)&&r:this.add(s)}}Ft(ke,{attr:function(t,e,i){if(null==t){t={},e=this.node.attributes;for(const i of e)t[i.nodeName]=Jt.test(i.nodeValue)?parseFloat(i.nodeValue):i.nodeValue;return t}if(t instanceof Array)return t.reduce(((t,e)=>(t[e]=this.attr(e),t)),{});if("object"==typeof t&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?Ce[t]:Jt.test(e)?parseFloat(e):e;"number"==typeof(e=Te.reduce(((e,i)=>i(t,e,this)),e))?e=new Me(e):se.isColor(e)?e=new se(e):e.constructor===Array&&(e=new Ee(e)),"leading"===t?this.leading&&this.leading(e):"string"==typeof i?this.node.setAttributeNS(i,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!==t&&"x"!==t||this.rebuild()}return this},find:function(t){return pe(t,this.node)},findOne:function(t){return jt(this.node.querySelector(t))}}),zt(ke,"Dom");class Oe extends ke{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,t.hasAttribute("svgjs:data")&&this.setData(JSON.parse(t.getAttribute("svgjs:data"))||{})}center(t,e){return this.cx(t).cy(e)}cx(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new Me(t).plus(this.x()))}dy(t=0){return this.y(new Me(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){t=Nt(t);const e=new de;let i=this;for(;(i=i.parent())&&i.node!==Et.document&&"#document-fragment"!==i.nodeName&&(e.push(i),i.node!==t.node););return e}reference(t){if(!(t=this.attr(t)))return null;const e=(t+"").match(Xt);return e?Nt(e[1]):null}root(){const t=this.parent(Tt[kt]);return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const i=bt(this,t,e);return this.width(new Me(i.width)).height(new Me(i.height))}width(t){return this.attr("width",t)}writeDataToDom(){return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}Ft(Oe,{bbox:function(){const t=ce(this,(t=>t.getBBox()),(t=>{try{const e=t.clone().addTo(ae().svg).show(),i=e.node.getBBox();return e.remove(),i}catch(e){throw new Error(`Getting bbox of element "${t.node.nodeName}" is not possible: ${e.toString()}`)}}));return new ue(t)},rbox:function(t){const e=ce(this,(t=>t.getBoundingClientRect()),(t=>{throw new Error(`Getting rbox of element "${t.node.nodeName}" is not possible`)})),i=new ue(e);return t?i.transform(t.screenCTM().inverseO()):i.addOffset()},inside:function(t,e){const i=this.bbox();return t>i.x&&e>i.y&&t<i.x+i.width&&e<i.y+i.height},point:function(t,e){return new re(t,e).transform(this.screenCTM().inverse())},ctm:function(){return new he(this.node.getCTM())},screenCTM:function(){if("function"==typeof this.isRoot&&!this.isRoot()){const t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new he(e)}return new he(this.node.getScreenCTM())}}),zt(Oe,"Element");const Ne={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"===e?t:t+"-"+e}};["fill","stroke"].forEach((function(t){const e={};let i;e[t]=function(e){if(void 0===e)return this.attr(t);if("string"==typeof e||e instanceof se||se.isRgb(e)||e instanceof Oe)this.attr(t,e);else for(i=Ne[t].length-1;i>=0;i--)null!=e[Ne[t][i]]&&this.attr(Ne.prefix(t,Ne[t][i]),e[Ne[t][i]]);return this},ft(["Element","Runner"],e)})),ft(["Element","Runner"],{matrix:function(t,e,i,n,s,r){return null==t?new he(this):this.attr("transform",new he(t,e,i,n,s,r))},rotate:function(t,e,i){return this.transform({rotate:t,ox:e,oy:i},!0)},skew:function(t,e,i,n){return 1===arguments.length||3===arguments.length?this.transform({skew:t,ox:e,oy:i},!0):this.transform({skew:[t,e],ox:i,oy:n},!0)},shear:function(t,e,i){return this.transform({shear:t,ox:e,oy:i},!0)},scale:function(t,e,i,n){return 1===arguments.length||3===arguments.length?this.transform({scale:t,ox:e,oy:i},!0):this.transform({scale:[t,e],ox:i,oy:n},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return-1==="xybothtrue".indexOf(t)&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}}),ft("radius",{radius:function(t,e=t){return"radialGradient"===(this._element||this).type?this.attr("r",new Me(t)):this.rx(t).ry(e)}}),ft("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new re(this.node.getPointAtLength(t))}}),ft(["Element","Runner"],{font:function(t,e){if("object"==typeof t){for(e in t)this.font(e,t[e]);return this}return"leading"===t?this.leading(e):"anchor"===t?this.attr("text-anchor",e):"size"===t||"family"===t||"weight"===t||"stretch"===t||"variant"===t||"style"===t?this.attr("font-"+t,e):this.attr(t,e)}});const Pe=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].reduce((function(t,e){return t[e]=function(t){return null===t?this.off(e):this.on(e,t),this},t}),{});ft("Element",Pe),ft("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){const t=(this.attr("transform")||"").split(Yt).slice(0,-1).map((function(t){const e=t.trim().split("(");return[e[0],e[1].split(Kt).map((function(t){return parseFloat(t)}))]})).reverse().reduce((function(t,e){return"matrix"===e[0]?t.lmultiply(he.fromArray(e[1])):t[e[0]].apply(t,e[1])}),new he);return t},toParent:function(t,e){if(this===t)return this;const i=this.screenCTM(),n=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(n.multiply(i)),this},toRoot:function(t){return this.toParent(this.root(),t)},transform:function(t,e){if(null==t||"string"==typeof t){const e=new he(this).decompose();return null==t?e:e[t]}he.isMatrixLike(t)||(t={...t,origin:At(t,this)});const i=new he(!0===e?this:e||!1).transform(t);return this.attr("transform",i)}});class je extends Oe{flatten(t=this,e){return this.each((function(){if(this instanceof je)return this.flatten().ungroup()})),this}ungroup(t=this.parent(),e=t.index(this)){return e=-1===e?t.children().length:e,this.each((function(i,n){return n[n.length-i-1].toParent(t,e)})),this.remove()}}zt(je,"Container");class Re extends je{constructor(t,e=t){super(Pt("defs",t),e)}flatten(){return this}ungroup(){return this}}zt(Re,"Defs");class ze extends Oe{}function De(t){return this.attr("rx",t)}function Ie(t){return this.attr("ry",t)}function Le(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())}function Fe(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())}function He(t){return this.attr("cx",t)}function Ue(t){return this.attr("cy",t)}function qe(t){return null==t?2*this.rx():this.rx(new Me(t).divide(2))}function Be(t){return null==t?2*this.ry():this.ry(new Me(t).divide(2))}zt(ze,"Shape");var Xe=Object.freeze({__proto__:null,rx:De,ry:Ie,x:Le,y:Fe,cx:He,cy:Ue,width:qe,height:Be});class Ye extends ze{constructor(t,e=t){super(Pt("ellipse",t),e)}size(t,e){const i=bt(this,t,e);return this.rx(new Me(i.width).divide(2)).ry(new Me(i.height).divide(2))}}Ft(Ye,Xe),ft("Container",{ellipse:Ht((function(t=0,e=t){return this.put(new Ye).size(t,e).move(0,0)}))}),zt(Ye,"Ellipse");class Ve extends ke{constructor(t=Et.document.createDocumentFragment()){super(t)}xml(t,e,i){if("boolean"==typeof t&&(i=e,e=t,t=null),null==t||"function"==typeof t){const t=new ke(Ot("wrapper",i));return t.add(this.node.cloneNode(!0)),t.xml(!1,i)}return super.xml(t,!1,i)}}function Ge(t,e){return"radialGradient"===(this._element||this).type?this.attr({fx:new Me(t),fy:new Me(e)}):this.attr({x1:new Me(t),y1:new Me(e)})}function We(t,e){return"radialGradient"===(this._element||this).type?this.attr({cx:new Me(t),cy:new Me(e)}):this.attr({x2:new Me(t),y2:new Me(e)})}zt(Ve,"Fragment");var Qe,Je=Object.freeze({__proto__:null,from:Ge,to:We});class Ze extends je{constructor(t,e){super(Pt(t+"Gradient","string"==typeof t?null:t),e)}attr(t,e,i){return"transform"===t&&(t="gradientTransform"),super.attr(t,e,i)}bbox(){return new ue}targets(){return pe('svg [fill*="'+this.id()+'"]')}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return'url("#'+this.id()+'")'}}Ft(Ze,Je),ft({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:Ht((function(t,e){return this.put(new Ze(t)).update(e)}))}}),zt(Ze,"Gradient");class Ke extends je{constructor(t,e=t){super(Pt("pattern",t),e)}attr(t,e,i){return"transform"===t&&(t="patternTransform"),super.attr(t,e,i)}bbox(){return new ue}targets(){return pe('svg [fill*="'+this.id()+'"]')}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return'url("#'+this.id()+'")'}}ft({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:Ht((function(t,e,i){return this.put(new Ke).update(i).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}))}}),zt(Ke,"Pattern");class ti extends ze{constructor(t,e=t){super(Pt("image",t),e)}load(t,e){if(!t)return this;const i=new Et.window.Image;return we(i,"load",(function(t){const n=this.parent(Ke);0===this.width()&&0===this.height()&&this.size(i.width,i.height),n instanceof Ke&&0===n.width()&&0===n.height()&&n.size(this.width(),this.height()),"function"==typeof e&&e.call(this,t)}),this),we(i,"load error",(function(){xe(i)})),this.attr("href",i.src=t,Ct)}}Qe=function(t,e,i){return"fill"!==t&&"stroke"!==t||Zt.test(e)&&(e=i.root().defs().image(e)),e instanceof ti&&(e=i.root().defs().pattern(0,0,(t=>{t.add(e)}))),e},Te.push(Qe),ft({Container:{image:Ht((function(t,e){return this.put(new ti).size(0,0).load(t,e)}))}}),zt(ti,"Image");class ei extends Ee{bbox(){let t=-1/0,e=-1/0,i=1/0,n=1/0;return this.forEach((function(s){t=Math.max(s[0],t),e=Math.max(s[1],e),i=Math.min(s[0],i),n=Math.min(s[1],n)})),new ue(i,n,t-i,e-n)}move(t,e){const i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(let i=this.length-1;i>=0;i--)this[i]=[this[i][0]+t,this[i][1]+e];return this}parse(t=[0,0]){const e=[];(t=t instanceof Array?Array.prototype.concat.apply([],t):t.trim().split(Kt).map(parseFloat)).length%2!=0&&t.pop();for(let i=0,n=t.length;i<n;i+=2)e.push([t[i],t[i+1]]);return e}size(t,e){let i;const n=this.bbox();for(i=this.length-1;i>=0;i--)n.width&&(this[i][0]=(this[i][0]-n.x)*t/n.width+n.x),n.height&&(this[i][1]=(this[i][1]-n.y)*e/n.height+n.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,i=this.length;e<i;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){he.isMatrixLike(t)||(t=new he(t));for(let e=this.length;e--;){const[i,n]=this[e];this[e][0]=t.a*i+t.c*n+t.e,this[e][1]=t.b*i+t.d*n+t.f}return this}}const ii=ei;var ni=Object.freeze({__proto__:null,MorphArray:ii,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){const e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){const e=this.bbox();return null==t?e.height:this.size(e.width,t)}});class si extends ze{constructor(t,e=t){super(Pt("line",t),e)}array(){return new ei([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,i,n){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:i,y2:n}:new ei(t).toLine(),this.attr(t))}size(t,e){const i=bt(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}}Ft(si,ni),ft({Container:{line:Ht((function(...t){return si.prototype.plot.apply(this.put(new si),null!=t[0]?t:[0,0,0,0])}))}}),zt(si,"Line");class ri extends je{constructor(t,e=t){super(Pt("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}function oi(t,e){return function(i){return null==i?this[t]:(this[t]=i,e&&e.call(this),this)}}ft({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:Ht((function(t,e,i){return this.put(new ri).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(i)}))},marker:{marker(t,e,i,n){let s=["marker"];return"all"!==t&&s.push(t),s=s.join("-"),t=arguments[1]instanceof ri?arguments[1]:this.defs().marker(e,i,n),this.attr(s,t)}}}),zt(ri,"Marker");const hi={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,i,n){return function(s){return s<0?t>0?e/t*s:i>0?n/i*s:0:s>1?i<1?(1-n)/(1-i)*s+(n-i)/(1-i):t<1?(1-e)/(1-t)*s+(e-t)/(1-t):1:3*s*(1-s)**2*e+3*s**2*(1-s)*n+s**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let i=t;return"none"===e?--i:"both"===e&&++i,(n,s=!1)=>{let r=Math.floor(n*t);const o=n*r%1==0;return"start"!==e&&"both"!==e||++r,s&&o&&--r,n>=0&&r<0&&(r=0),n<=1&&r>i&&(r=i),r/i}}};class ai{done(){return!1}}class li extends ai{constructor(t=$e){super(),this.ease=hi[t]||t}step(t,e,i){return"number"!=typeof t?i<1?t:e:t+(e-t)*this.ease(i)}}class ui extends ai{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,i,n){return this.stepper(t,e,i,n)}}function ci(){const t=(this._duration||500)/1e3,e=this._overshoot||0,i=Math.PI,n=Math.log(e/100+1e-10),s=-n/Math.sqrt(i*i+n*n),r=3.9/(s*t);this.d=2*s*r,this.k=r*r}Ft(class extends ui{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,i,n){if("string"==typeof t)return t;if(n.done=i===1/0,i===1/0)return e;if(0===i)return t;i>100&&(i=16),i/=1e3;const s=n.velocity||0,r=-this.d*s-this.k*(t-e),o=t+s*i+r*i*i/2;return n.velocity=s+r*i,n.done=Math.abs(e-o)+Math.abs(s)<.002,n.done?e:o}},{duration:oi("_duration",ci),overshoot:oi("_overshoot",ci)});Ft(class extends ui{constructor(t=.1,e=.01,i=0,n=1e3){super(),this.p(t).i(e).d(i).windup(n)}step(t,e,i,n){if("string"==typeof t)return t;if(n.done=i===1/0,i===1/0)return e;if(0===i)return t;const s=e-t;let r=(n.integral||0)+s*i;const o=(s-(n.error||0))/i,h=this._windup;return!1!==h&&(r=Math.max(-h,Math.min(r,h))),n.error=s,n.integral=r,n.done=Math.abs(s)<.001,n.done?e:t+(this.P*s+this.I*r+this.D*o)}},{windup:oi("_windup"),p:oi("P"),i:oi("I"),d:oi("D")});const di={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},fi={M:function(t,e,i){return e.x=i.x=t[0],e.y=i.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,i){return e.x=i.x,e.y=i.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},pi="mlhvqtcsaz".split("");for(let t=0,e=pi.length;t<e;++t)fi[pi[t]]=function(t){return function(e,i,n){if("H"===t)e[0]=e[0]+i.x;else if("V"===t)e[0]=e[0]+i.y;else if("A"===t)e[5]=e[5]+i.x,e[6]=e[6]+i.y;else for(let t=0,n=e.length;t<n;++t)e[t]=e[t]+(t%2?i.y:i.x);return fi[t](e,i,n)}}(pi[t].toUpperCase());function mi(t){return t.segment.length&&t.segment.length-1===di[t.segment[0].toUpperCase()]}function yi(t,e){t.inNumber&&gi(t,!1);const i=te.test(e);if(i)t.segment=[e];else{const e=t.lastCommand,i=e.toLowerCase(),n=e===i;t.segment=["m"===i?n?"l":"L":e]}return t.inSegment=!0,t.lastCommand=t.segment[0],i}function gi(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,mi(t)&&_i(t)}function _i(t){t.inSegment=!1,t.absolute&&(t.segment=function(t){const e=t.segment[0];return fi[e](t.segment.slice(1),t.p,t.p0)}(t)),t.segments.push(t.segment)}function wi(t){if(!t.segment.length)return!1;const e="A"===t.segment[0].toUpperCase(),i=t.segment.length;return e&&(4===i||5===i)}function xi(t){return"E"===t.lastToken.toUpperCase()}class vi extends Ee{bbox(){return ae().path.setAttribute("d",this.toString()),new ue(ae.nodes.path.getBBox())}move(t,e){const i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(let i,n=this.length-1;n>=0;n--)i=this[n][0],"M"===i||"L"===i||"T"===i?(this[n][1]+=t,this[n][2]+=e):"H"===i?this[n][1]+=t:"V"===i?this[n][1]+=e:"C"===i||"S"===i||"Q"===i?(this[n][1]+=t,this[n][2]+=e,this[n][3]+=t,this[n][4]+=e,"C"===i&&(this[n][5]+=t,this[n][6]+=e)):"A"===i&&(this[n][6]+=t,this[n][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),function(t,e=!0){let i=0,n="";const s={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:e,p0:new re,p:new re};for(;s.lastToken=n,n=t.charAt(i++);)if(s.inSegment||!yi(s,n))if("."!==n)if(isNaN(parseInt(n)))if(" "!==n&&","!==n)if("-"!==n)if("E"!==n.toUpperCase()){if(te.test(n)){if(s.inNumber)gi(s,!1);else{if(!mi(s))throw new Error("parser Error");_i(s)}--i}}else s.number+=n,s.hasExponent=!0;else{if(s.inNumber&&!xi(s)){gi(s,!1),--i;continue}s.number+=n,s.inNumber=!0}else s.inNumber&&gi(s,!1);else{if("0"===s.number||wi(s)){s.inNumber=!0,s.number=n,gi(s,!0);continue}s.inNumber=!0,s.number+=n}else{if(s.pointSeen||s.hasExponent){gi(s,!1),--i;continue}s.inNumber=!0,s.pointSeen=!0,s.number+=n}return s.inNumber&&gi(s,!1),s.inSegment&&mi(s)&&_i(s),s.segments}(t)}size(t,e){const i=this.bbox();let n,s;for(i.width=0===i.width?1:i.width,i.height=0===i.height?1:i.height,n=this.length-1;n>=0;n--)s=this[n][0],"M"===s||"L"===s||"T"===s?(this[n][1]=(this[n][1]-i.x)*t/i.width+i.x,this[n][2]=(this[n][2]-i.y)*e/i.height+i.y):"H"===s?this[n][1]=(this[n][1]-i.x)*t/i.width+i.x:"V"===s?this[n][1]=(this[n][1]-i.y)*e/i.height+i.y:"C"===s||"S"===s||"Q"===s?(this[n][1]=(this[n][1]-i.x)*t/i.width+i.x,this[n][2]=(this[n][2]-i.y)*e/i.height+i.y,this[n][3]=(this[n][3]-i.x)*t/i.width+i.x,this[n][4]=(this[n][4]-i.y)*e/i.height+i.y,"C"===s&&(this[n][5]=(this[n][5]-i.x)*t/i.width+i.x,this[n][6]=(this[n][6]-i.y)*e/i.height+i.y)):"A"===s&&(this[n][1]=this[n][1]*t/i.width,this[n][2]=this[n][2]*e/i.height,this[n][6]=(this[n][6]-i.x)*t/i.width+i.x,this[n][7]=(this[n][7]-i.y)*e/i.height+i.y);return this}toString(){return function(t){let e="";for(let i=0,n=t.length;i<n;i++)e+=t[i][0],null!=t[i][1]&&(e+=t[i][1],null!=t[i][2]&&(e+=" ",e+=t[i][2],null!=t[i][3]&&(e+=" ",e+=t[i][3],e+=" ",e+=t[i][4],null!=t[i][5]&&(e+=" ",e+=t[i][5],e+=" ",e+=t[i][6],null!=t[i][7]&&(e+=" ",e+=t[i][7])))));return e+" "}(this)}}const bi=t=>{const e=typeof t;return"number"===e?Me:"string"===e?se.isColor(t)?se:Kt.test(t)?te.test(t)?vi:Ee:Ut.test(t)?Me:$i:Mi.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?Ee:"object"===e?Ei:$i};class Ai{constructor(t){this._stepper=t||new li("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){const e=this;return this._morphObj.fromArray(this._from.map((function(i,n){return e._stepper.step(i,e._to[n],t,e._context[n],e._context)})))}done(){return this._context.map(this._stepper.done).reduce((function(t,e){return t&&e}),!0)}from(t){return null==t?this._from:(this._from=this._set(t),this)}stepper(t){return null==t?this._stepper:(this._stepper=t,this)}to(t){return null==t?this._to:(this._to=this._set(t),this)}type(t){return null==t?this._type:(this._type=t,this)}_set(t){this._type||this.type(bi(t));let e=new this._type(t);return this._type===se&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===Ei&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toArray(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map((function(t){return t.done=!0,t})),e}}class $i{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class Si{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,Si.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}Si.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const Ci=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0;class Ei{constructor(...t){this.init(...t)}align(t){for(let e=0,i=this.values.length;e<i;++e)if(this.values[e]===se){const i=t[e+6],n=new se(this.values.splice(e+2,5))[i]().toArray();this.values.splice(e+2,0,...n)}return this}init(t){if(this.values=[],Array.isArray(t))return void(this.values=t.slice());t=t||{};const e=[];for(const i in t){const n=bi(t[i]),s=new n(t[i]).toArray();e.push([i,n,s.length,...s])}return e.sort(Ci),this.values=e.reduce(((t,e)=>t.concat(e)),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const i=e.shift(),n=e.shift(),s=e.shift(),r=e.splice(0,s);t[i]=new n(r).valueOf()}return t}}const Mi=[$i,Si,Ei];class Ti extends ze{constructor(t,e=t){super(Pt("path",t),e)}array(){return this._array||(this._array=new vi(this.attr("d")))}clear(){return delete this._array,this}height(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new vi(t))}size(t,e){const i=bt(this,t,e);return this.attr("d",this.array().size(i.width,i.height))}width(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)}x(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)}y(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)}}Ti.prototype.MorphArray=vi,ft({Container:{path:Ht((function(t){return this.put(new Ti).plot(t||new vi)}))}}),zt(Ti,"Path");var ki=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new ei(this.attr("points")))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new ei(t))},size:function(t,e){const i=bt(this,t,e);return this.attr("points",this.array().size(i.width,i.height))}});class Oi extends ze{constructor(t,e=t){super(Pt("polygon",t),e)}}ft({Container:{polygon:Ht((function(t){return this.put(new Oi).plot(t||new ei)}))}}),Ft(Oi,ni),Ft(Oi,ki),zt(Oi,"Polygon");class Ni extends ze{constructor(t,e=t){super(Pt("polyline",t),e)}}ft({Container:{polyline:Ht((function(t){return this.put(new Ni).plot(t||new ei)}))}}),Ft(Ni,ni),Ft(Ni,ki),zt(Ni,"Polyline");class Pi extends ze{constructor(t,e=t){super(Pt("rect",t),e)}}Ft(Pi,{rx:De,ry:Ie}),ft({Container:{rect:Ht((function(t,e){return this.put(new Pi).size(t,e)}))}}),zt(Pi,"Rect");class ji{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=void 0!==t.next?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const Ri={nextDraw:null,frames:new ji,timeouts:new ji,immediates:new ji,timer:()=>Et.window.performance||Et.window.Date,transforms:[],frame(t){const e=Ri.frames.push({run:t});return null===Ri.nextDraw&&(Ri.nextDraw=Et.window.requestAnimationFrame(Ri._draw)),e},timeout(t,e){e=e||0;const i=Ri.timer().now()+e,n=Ri.timeouts.push({run:t,time:i});return null===Ri.nextDraw&&(Ri.nextDraw=Et.window.requestAnimationFrame(Ri._draw)),n},immediate(t){const e=Ri.immediates.push(t);return null===Ri.nextDraw&&(Ri.nextDraw=Et.window.requestAnimationFrame(Ri._draw)),e},cancelFrame(t){null!=t&&Ri.frames.remove(t)},clearTimeout(t){null!=t&&Ri.timeouts.remove(t)},cancelImmediate(t){null!=t&&Ri.immediates.remove(t)},_draw(t){let e=null;const i=Ri.timeouts.last();for(;(e=Ri.timeouts.shift())&&(t>=e.time?e.run():Ri.timeouts.push(e),e!==i););let n=null;const s=Ri.frames.last();for(;n!==s&&(n=Ri.frames.shift());)n.run(t);let r=null;for(;r=Ri.immediates.shift();)r();Ri.nextDraw=Ri.timeouts.first()||Ri.frames.first()?Et.window.requestAnimationFrame(Ri._draw):null}},zi=function(t){const e=t.start,i=t.runner.duration();return{start:e,duration:i,end:e+i,runner:t.runner}},Di=function(){const t=Et.window;return(t.performance||t.Date).now()};class Ii extends ve{constructor(t=Di){super(),this._timeSource=t,this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map((t=>t.start+t.runner.duration()));return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return null==t?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(null==t)return this.speed(-e);const i=Math.abs(e);return this.speed(t?-i:i)}schedule(t,e,i){if(null==t)return this._runners.map(zi);let n=0;const s=this.getEndTime();if(e=e||0,null==i||"last"===i||"after"===i)n=s;else if("absolute"===i||"start"===i)n=e,e=0;else if("now"===i)n=this._time;else if("relative"===i){const i=this.getRunnerInfoById(t.id);i&&(n=i.start+e,e=0)}else{if("with-last"!==i)throw new Error('Invalid value for the "when" parameter');{const t=this.getLastRunnerInfo();n=t?t.start:this._time}}t.unschedule(),t.timeline(this);const r=t.persist(),o={persist:null===r?this._persist:r,start:n+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(o),this._runners.sort(((t,e)=>t.start-e.start)),this._runnerIds=this._runners.map((t=>t.runner.id)),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return null==t?this._timeSource:(this._timeSource=t,this)}speed(t){return null==t?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return null==t?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0||(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return Ri.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():(this._paused||(this._nextFrame=Ri.frame(this._step)),this)}_stepFn(t=!1){const e=this._timeSource();let i=e-this._lastSourceTime;t&&(i=0);const n=this._speed*i+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=n,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let t=this._runners.length;t--;){const e=this._runners[t],i=e.runner;this._time-e.start<=0&&i.reset()}let s=!1;for(let t=0,e=this._runners.length;t<e;t++){const i=this._runners[t],r=i.runner;let o=n;const h=this._time-i.start;if(h<=0){s=!0;continue}if(h<o&&(o=h),!r.active())continue;if(r.step(o).done){if(!0!==i.persist){r.duration()-r.time()+this._time+i.persist<this._time&&(r.unschedule(),--t,--e)}}else s=!0}return s&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}}ft({Element:{timeline:function(t){return null==t?(this._timeline=this._timeline||new Ii,this._timeline):(this._timeline=t,this)}}});class Li extends ve{constructor(t){super(),this.id=Li.id++,t="function"==typeof(t=t??Ae)?new ui(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration="number"==typeof t&&t,this._isDeclarative=t instanceof ui,this._stepper=this._isDeclarative?t:new li,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new he,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(t,e,i){let n=1,s=!1,r=0;return e=e||Se,i=i||"last","object"!=typeof(t=t||Ae)||t instanceof ai||(e=t.delay||e,i=t.when||i,s=t.swing||s,n=t.times||n,r=t.wait||r,t=t.duration||Ae),{duration:t,delay:e,swing:s,times:n,wait:r,when:i}}active(t){return null==t?this.enabled:(this.enabled=t,this)}addTransform(t,e){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,i){const n=Li.sanitise(t,e,i),s=new Li(n.duration);return this._timeline&&s.timeline(this._timeline),this._element&&s.element(this._element),s.loop(n).schedule(n.delay,n.when)}clearTransform(){return this.transforms=new he,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((t=>!t.isTransform)))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new li(t),this}element(t){return null==t?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,i){return"object"==typeof t&&(e=t.swing,i=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=i||0,!0===this._times&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(null==t){const t=Math.floor(this._time/e),i=(this._time-t*e)/this._duration;return Math.min(t+i,this._times)}const i=t%1,n=e*Math.floor(t)+this._duration*i;return this.time(n)}persist(t){return null==t?this._persist:(this._persist=t,this)}position(t){const e=this._time,i=this._duration,n=this._wait,s=this._times,r=this._swing,o=this._reverse;let h;if(null==t){const t=function(t){const e=r*Math.floor(t%(2*(n+i))/(n+i)),s=e&&!o||!e&&o,h=Math.pow(-1,s)*(t%(n+i))/i+s;return Math.max(Math.min(h,1),0)},a=s*(n+i)-n;return h=e<=0?Math.round(t(1e-5)):e<a?t(e):Math.round(t(a-1e-5)),h}const a=Math.floor(this.loops()),l=r&&a%2==0;return h=a+(l&&!o||o&&l?t:1-t),this.loops(h)}progress(t){return null==t?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,i,n){this._queue.push({initialiser:t||be,runner:e||be,retarget:i,isTransform:n,initialised:!1,finished:!1});return this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(t){return this._reverse=t??!this._reverse,this}schedule(t,e,i){if(t instanceof Ii||(i=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,i),this}step(t){if(!this.enabled)return this;t=t??16,this._time+=t;const e=this.position(),i=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const n=this.duration(),s=this._lastTime<=0&&this._time>0,r=this._lastTime<n&&this._time>=n;this._lastTime=this._time,s&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!r&&this._time>=n,this._reseted=!1;let h=!1;return(i||o)&&(this._initialise(i),this.transforms=new he,h=this._run(o?t:e),this.fire("step",this)),this.done=this.done||h&&o,r&&this.fire("finished",this),this}time(t){if(null==t)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return void 0===t?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(t||this._isDeclarative)for(let e=0,i=this._queue.length;e<i;++e){const i=this._queue[e],n=this._isDeclarative||!i.initialised&&t;t=!i.finished,n&&t&&(i.initialiser.call(this),i.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const t=this.timeline();t&&t.play()}}_run(t){let e=!0;for(let i=0,n=this._queue.length;i<n;++i){const n=this._queue[i],s=n.runner.call(this,t);n.finished=n.finished||!0===s,e=e&&n.finished}return e}_tryRetarget(t,e,i){if(this._history[t]){if(!this._history[t].caller.initialised){const e=this._queue.indexOf(this._history[t].caller);return this._queue.splice(e,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,i):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const n=this.timeline();return n&&n.play(),!0}return!1}}Li.id=0;class Fi{constructor(t=new he,e=-1,i=!0){this.transforms=t,this.id=e,this.done=i}clearTransformsFromQueue(){}}Ft([Li,Fi],{mergeWith(t){return new Fi(t.transforms.lmultiply(this.transforms),t.id)}});const Hi=(t,e)=>t.lmultiplyO(e),Ui=t=>t.transforms;function qi(){const t=this._transformationRunners.runners.map(Ui).reduce(Hi,new he);this.transform(t),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}class Bi{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new Fi).forEach((t=>t.clearTransformsFromQueue())),this}edit(t,e){const i=this.ids.indexOf(t+1);return this.ids.splice(i,1,t+1),this.runners.splice(i,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const i=this.runners[e];if(t&&i.done&&t.done&&(!i._timeline||!i._timeline._runnerIds.includes(i.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(i.id);const n=i.mergeWith(t);this.edit(t.id,n),t=n,--e}else t=i}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}ft({Element:{animate(t,e,i){const n=Li.sanitise(t,e,i),s=this.timeline();return new Li(n.duration).loop(n).element(this).timeline(s.play()).schedule(n.delay,n.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter((e=>e.id<=t.id)).map(Ui).reduce(Hi,new he)},_addRunner(t){this._transformationRunners.add(t),Ri.cancelImmediate(this._frameId),this._frameId=Ri.immediate(qi.bind(this))},_prepareRunner(){null==this._frameId&&(this._transformationRunners=(new Bi).add(new Fi(new he(this))))}}});Ft(Li,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,i){if("string"==typeof e)return this.styleAttr(t,{[e]:i});let n=e;if(this._tryRetarget(t,n))return this;let s=new Ai(this._stepper).to(n),r=Object.keys(n);return this.queue((function(){s=s.from(this.element()[t](r))}),(function(e){return this.element()[t](s.at(e).valueOf()),s.done()}),(function(e){const i=Object.keys(e),o=((t,e)=>t.filter((t=>!e.includes(t))))(i,r);if(o.length){const e=this.element()[t](o),i=new Ei(s.from()).valueOf();Object.assign(i,e),s.from(i)}const h=new Ei(s.to()).valueOf();Object.assign(h,e),s.to(h),r=i,n=e})),this._rememberMorpher(t,s),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let i=new Ai(this._stepper).to(new Me(t));return this.queue((function(){i=i.from(this.element().zoom())}),(function(t){return this.element().zoom(i.at(t),e),i.done()}),(function(t,n){e=n,i.to(t)})),this._rememberMorpher("zoom",i),this},transform(t,e,i){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;const n=he.isMatrixLike(t);i=null!=t.affine?t.affine:null!=i?i:!n;const s=new Ai(this._stepper).type(i?Si:he);let r,o,h,a,l;return this.queue((function(){o=o||this.element(),r=r||At(t,o),l=new he(e?void 0:o),o._addRunner(this),e||o._clearTransformRunnersBefore(this)}),(function(u){e||this.clearTransform();const{x:c,y:d}=new re(r).transform(o._currentTransform(this));let f=new he({...t,origin:[c,d]}),p=this._isDeclarative&&h?h:l;if(i){f=f.decompose(c,d),p=p.decompose(c,d);const t=f.rotate,e=p.rotate,i=[t-360,t,t+360],n=i.map((t=>Math.abs(t-e))),s=Math.min(...n),r=n.indexOf(s);f.rotate=i[r]}e&&(n||(f.rotate=t.rotate||0),this._isDeclarative&&a&&(p.rotate=a)),s.from(p),s.to(f);const m=s.at(u);return a=m.rotate,h=new he(m),this.addTransform(h),o._addRunner(this),s.done()}),(function(e){(e.origin||"center").toString()!==(t.origin||"center").toString()&&(r=At(e,o)),t={...e,origin:r}}),!0),this._isDeclarative&&this._rememberMorpher("transform",s),this},x(t,e){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new Me(e),this._tryRetarget(t,e))return this;const i=new Ai(this._stepper).to(e);let n=null;return this.queue((function(){n=this.element()[t](),i.from(n),i.to(n+e)}),(function(e){return this.element()[t](i.at(e)),i.done()}),(function(t){i.to(n+new Me(t))})),this._rememberMorpher(t,i),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;const i=new Ai(this._stepper).to(e);return this.queue((function(){i.from(this.element()[t]())}),(function(e){return this.element()[t](i.at(e)),i.done()})),this._rememberMorpher(t,i),this},_queueNumber(t,e){return this._queueObject(t,new Me(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let i;return t&&e||(i=this._element.bbox()),t||(t=i.width/i.height*e),e||(e=i.height/i.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,i,n){if(4===arguments.length)return this.plot([t,e,i,n]);if(this._tryRetarget("plot",t))return this;const s=new Ai(this._stepper).type(this._element.MorphArray).to(t);return this.queue((function(){s.from(this._element.array())}),(function(t){return this._element.plot(s.at(t)),s.done()})),this._rememberMorpher("plot",s),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,i,n){return this._queueObject("viewbox",new ue(t,e,i,n))},update(t){return"object"!=typeof t?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset),this)}}),Ft(Li,{rx:De,ry:Ie,from:Ge,to:We}),zt(Li,"Runner");class Xi extends je{constructor(t,e=t){super(Pt("svg",t),e),this.namespace()}defs(){return this.isRoot()?jt(this.node.querySelector("defs"))||this.put(new Re):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Et.window.SVGElement)&&"#document-fragment"!==this.node.parentNode.nodeName}namespace(){return this.isRoot()?this.attr({xmlns:$t,version:"1.1"}).attr("xmlns:xlink",Ct,St).attr("xmlns:svgjs","http://svgjs.dev/svgjs",St):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,St).attr("xmlns:svgjs",null,St)}root(){return this.isRoot()?this:super.root()}}ft({Container:{nested:Ht((function(){return this.put(new Xi)}))}}),zt(Xi,"Svg",!0);class Yi extends je{constructor(t,e=t){super(Pt("symbol",t),e)}}ft({Container:{symbol:Ht((function(){return this.put(new Yi)}))}}),zt(Yi,"Symbol");var Vi=Object.freeze({__proto__:null,plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(Et.document.createTextNode(t)),this},length:function(){return this.node.getComputedTextLength()},x:function(t,e=this.bbox()){return null==t?e.x:this.attr("x",this.attr("x")+t-e.x)},y:function(t,e=this.bbox()){return null==t?e.y:this.attr("y",this.attr("y")+t-e.y)},move:function(t,e,i=this.bbox()){return this.x(t,i).y(e,i)},cx:function(t,e=this.bbox()){return null==t?e.cx:this.attr("x",this.attr("x")+t-e.cx)},cy:function(t,e=this.bbox()){return null==t?e.cy:this.attr("y",this.attr("y")+t-e.cy)},center:function(t,e,i=this.bbox()){return this.cx(t,i).cy(e,i)},ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},amove:function(t,e){return this.ax(t).ay(e)},build:function(t){return this._build=!!t,this}});class Gi extends ze{constructor(t,e=t){super(Pt("text",t),e),this.dom.leading=new Me(1.3),this._rebuild=!0,this._build=!1}leading(t){return null==t?this.dom.leading:(this.dom.leading=new Me(t),this.rebuild())}rebuild(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){const t=this;let e=0;const i=this.dom.leading;this.each((function(n){const s=Et.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=i*new Me(s);this.dom.newLined&&(this.attr("x",t.attr("x")),"\n"===this.text()?e+=r:(this.attr("dy",n?r+e:0),e=0))})),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new Me(t.leading||1.3),this}text(t){if(void 0===t){const e=this.node.childNodes;let i=0;t="";for(let n=0,s=e.length;n<s;++n)"textPath"!==e[n].nodeName?(n!==i&&3!==e[n].nodeType&&!0===jt(e[n]).dom.newLined&&(t+="\n"),t+=e[n].textContent):0===n&&(i=1);return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else for(let e=0,i=(t=(t+"").split("\n")).length;e<i;e++)this.newLine(t[e]);return this.build(!1).rebuild()}}Ft(Gi,Vi),ft({Container:{text:Ht((function(t=""){return this.put(new Gi).text(t)})),plain:Ht((function(t=""){return this.put(new Gi).plain(t)}))}}),zt(Gi,"Text");class Wi extends ze{constructor(t,e=t){super(Pt("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof Gi))return this;const e=t.index(this),i=Et.window.getComputedStyle(this.node).getPropertyValue("font-size"),n=t.dom.leading*new Me(i);return this.dy(e?n:0).attr("x",t.x())}text(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}Ft(Wi,Vi),ft({Tspan:{tspan:Ht((function(t=""){const e=new Wi;return this._build||this.clear(),this.put(e).text(t)}))},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}}),zt(Wi,"Tspan");class Qi extends ze{constructor(t,e=t){super(Pt("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new Me(t).divide(2))}}Ft(Qi,{x:Le,y:Fe,cx:He,cy:Ue,width:qe,height:Be}),ft({Container:{circle:Ht((function(t=0){return this.put(new Qi).size(t).move(0,0)}))}}),zt(Qi,"Circle");class Ji extends je{constructor(t,e=t){super(Pt("clipPath",t),e)}remove(){return this.targets().forEach((function(t){t.unclip()})),super.remove()}targets(){return pe('svg [clip-path*="'+this.id()+'"]')}}ft({Container:{clip:Ht((function(){return this.defs().put(new Ji)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(t){const e=t instanceof Ji?t:this.parent().clip().add(t);return this.attr("clip-path",'url("#'+e.id()+'")')},unclip(){return this.attr("clip-path",null)}}}),zt(Ji,"ClipPath");class Zi extends Oe{constructor(t,e=t){super(Pt("foreignObject",t),e)}}ft({Container:{foreignObject:Ht((function(t,e){return this.put(new Zi).size(t,e)}))}}),zt(Zi,"ForeignObject");var Ki=Object.freeze({__proto__:null,dmove:function(t,e){return this.children().forEach(((i,n)=>{let s;try{s=i.bbox()}catch(t){return}const r=new he(i),o=r.translate(t,e).transform(r.inverse()),h=new re(s.x,s.y).transform(o);i.move(h.x,h.y)})),this},dx:function(t){return this.dmove(t,0)},dy:function(t){return this.dmove(0,t)},height:function(t,e=this.bbox()){return null==t?e.height:this.size(e.width,t,e)},move:function(t=0,e=0,i=this.bbox()){const n=t-i.x,s=e-i.y;return this.dmove(n,s)},size:function(t,e,i=this.bbox()){const n=bt(this,t,e,i),s=n.width/i.width,r=n.height/i.height;return this.children().forEach(((t,e)=>{const n=new re(i).transform(new he(t).inverse());t.scale(s,r,n.x,n.y)})),this},width:function(t,e=this.bbox()){return null==t?e.width:this.size(t,e.height,e)},x:function(t,e=this.bbox()){return null==t?e.x:this.move(t,e.y,e)},y:function(t,e=this.bbox()){return null==t?e.y:this.move(e.x,t,e)}});class tn extends je{constructor(t,e=t){super(Pt("g",t),e)}}Ft(tn,Ki),ft({Container:{group:Ht((function(){return this.put(new tn)}))}}),zt(tn,"G");class en extends je{constructor(t,e=t){super(Pt("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,Ct)}}Ft(en,Ki),ft({Container:{link:Ht((function(t){return this.put(new en).to(t)}))},Element:{unlink(){const t=this.linker();if(!t)return this;const e=t.parent();if(!e)return this.remove();const i=e.index(t);return e.add(this,i),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new en,this.wrap(e)),"function"==typeof t?t.call(e,e):e.to(t),this},linker(){const t=this.parent();return t&&"a"===t.node.nodeName.toLowerCase()?t:null}}}),zt(en,"A");class nn extends je{constructor(t,e=t){super(Pt("mask",t),e)}remove(){return this.targets().forEach((function(t){t.unmask()})),super.remove()}targets(){return pe('svg [mask*="'+this.id()+'"]')}}ft({Container:{mask:Ht((function(){return this.defs().put(new nn)}))},Element:{masker(){return this.reference("mask")},maskWith(t){const e=t instanceof nn?t:this.parent().mask().add(t);return this.attr("mask",'url("#'+e.id()+'")')},unmask(){return this.attr("mask",null)}}}),zt(nn,"Mask");class sn extends Oe{constructor(t,e=t){super(Pt("stop",t),e)}update(t){return("number"==typeof t||t instanceof Me)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new Me(t.offset)),this}}ft({Gradient:{stop:function(t,e,i){return this.put(new sn).update(t,e,i)}}}),zt(sn,"Stop");class rn extends Oe{constructor(t,e=t){super(Pt("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,i={}){return this.rule("@font-face",{fontFamily:t,src:e,...i})}rule(t,e){return this.addText(function(t,e){if(!t)return"";if(!e)return t;let i=t+"{";for(const t in e)i+=xt(t)+":"+e[t]+";";return i+="}",i}(t,e))}}ft("Dom",{style(t,e){return this.put(new rn).rule(t,e)},fontface(t,e,i){return this.put(new rn).font(t,e,i)}}),zt(rn,"Style");class on extends Gi{constructor(t,e=t){super(Pt("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let i=null;return e&&(i=e.plot(t)),null==t?i:this}track(){return this.reference("href")}}ft({Container:{textPath:Ht((function(t,e){return t instanceof Gi||(t=this.text(t)),t.path(e)}))},Text:{path:Ht((function(t,e=!0){const i=new on;let n;if(t instanceof Ti||(t=this.defs().path(t)),i.attr("href","#"+t,Ct),e)for(;n=this.node.firstChild;)i.node.appendChild(n);return this.put(i)})),textPath(){return this.findOne("textPath")}},Path:{text:Ht((function(t){return t instanceof Gi||(t=(new Gi).addTo(this.parent()).text(t)),t.path(this)})),targets(){return pe("svg textPath").filter((t=>(t.attr("href")||"").includes(this.id())))}}}),on.prototype.MorphArray=vi,zt(on,"TextPath");class hn extends ze{constructor(t,e=t){super(Pt("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,Ct)}}ft({Container:{use:Ht((function(t,e){return this.put(new hn).use(t,e)}))}}),zt(hn,"Use");const an=Nt;Ft([Xi,Yi,ti,Ke,ri],pt("viewbox")),Ft([si,Ni,Oi,Ti],pt("marker")),Ft(Gi,pt("Text")),Ft(Ti,pt("Path")),Ft(Re,pt("Defs")),Ft([Gi,Wi],pt("Tspan")),Ft([Pi,Ye,Ze,Li],pt("radius")),Ft(ve,pt("EventTarget")),Ft(ke,pt("Dom")),Ft(Oe,pt("Element")),Ft(ze,pt("Shape")),Ft([je,Ve],pt("Container")),Ft(Ze,pt("Gradient")),Ft(Li,pt("Runner")),de.extend([...new Set(dt)]),function(t=[]){Mi.push(...[].concat(t))}([Me,se,ue,he,Ee,ei,vi]),Ft(Mi,{to(t){return(new Ai).type(this.constructor).from(this.valueOf()).to(t)},fromArray(t){return this.init(t),this}});const ln=[r`:host{aspect-ratio:1;display:flex;width:100%;background-color:rgba(255,255,255,.8);margin:0}:host #drawzone{transition:width .1s,height .1s;display:flex;flex-direction:column;width:100%;margin:0}`];var un;let cn=class extends G{constructor(){super(),this.mouseX=null,this.mouseY=null,this.width=null,this.height=null,this.openedFile="",this.setCurrentMousePosition=t=>{var e;const i=t.currentTarget.getBoundingClientRect(),n=t.clientX-i.left,s=t.clientY-i.top;null===(e=this.onPositionChange)||void 0===e||e.call(this,{xPosition:n,yPosition:s})},this.cancelDrawMode=()=>{var t;null===(t=this.onPositionChange)||void 0===t||t.call(this,{xPosition:null,yPosition:null})},un.set(this,(()=>{this.width=parseFloat(getComputedStyle(this).getPropertyValue("width")),this.height=parseFloat(getComputedStyle(this).getPropertyValue("height"))})),this.updated=t=>{var e;if(t.has("openedFile")){const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById("drawzone");if(this.openedFile&&t){t.innerHTML&&(t.innerHTML="");an(t).svg(this.openedFile)}}},new ResizeObserver(function(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)}(this,un,"f")).observe(this)}render(){return k`<div id="drawzone" @mousemove="${this.setCurrentMousePosition}" @mouseout="${this.cancelDrawMode}" @blur="${this.cancelDrawMode}"></div>`}};un=new WeakMap,cn.styles=[ln],t([Z({type:Number})],cn.prototype,"mouseX",void 0),t([Z({type:Number})],cn.prototype,"mouseY",void 0),t([K()],cn.prototype,"width",void 0),t([K()],cn.prototype,"height",void 0),t([Z()],cn.prototype,"onPositionChange",void 0),t([Z()],cn.prototype,"openedFile",void 0),cn=t([Q("draw-zone")],cn);const dn=r`:host{display:flex;gap:5px;padding:5px;background-color:rgba(255,255,255,.8)}#open-svg-button{border:1px solid grey;background-color:#fff;padding:10px 15px}#open-svg-button:hover{background-color:#0ff}`;let fn=class extends G{constructor(){super(...arguments),this.handleSelectFile=t=>{var e;const i=t.target,n=null===(e=null==i?void 0:i.files)||void 0===e?void 0:e[0];if(!n)return;const s=new FileReader;s.readAsText(n),s.addEventListener("load",(()=>{var t;null===(t=this.onSelectSvgFile)||void 0===t||t.call(this,s.result)}))}}render(){return k`<label id="open-svg-button">Open <input id="open-file" type="file" hidden .onchange="${this.handleSelectFile}" accept="image/svg+xml"></label>`}};fn.styles=[dn],t([Z()],fn.prototype,"onSelectSvgFile",void 0),fn=t([Q("editor-header")],fn);
